# STM Server Configuration

# Storage (Phase 2 - JSONL)
# JSONL storage directory (contains memories.jsonl and relations.jsonl)
STM_STORAGE_PATH=~/.stm/jsonl

# Legacy SQLite database (Phase 1 - for migration)
STM_DB_PATH=~/.stm/memories.db

# Decay Parameters
# Decay constant (default: 3-day half-life)
STM_DECAY_LAMBDA=2.673e-6
# Use count weight exponent
STM_DECAY_BETA=0.6

# Thresholds
# Minimum score before forgetting
STM_FORGET_THRESHOLD=0.05
# Score threshold for automatic promotion
STM_PROMOTE_THRESHOLD=0.65
# Use count threshold for promotion
STM_PROMOTE_USE_COUNT=5
# Time window for use count (days)
STM_PROMOTE_TIME_WINDOW=14

# Embeddings (optional)
# Sentence transformer model for semantic search
STM_EMBED_MODEL=all-MiniLM-L6-v2
# Enable embeddings (true/false)
STM_ENABLE_EMBEDDINGS=false

# Semantic Search Thresholds
# High similarity = likely duplicate
STM_SEMANTIC_HI=0.88
# Low similarity = likely distinct
STM_SEMANTIC_LO=0.78

# Clustering
# Cosine similarity threshold for linking in clusters
STM_CLUSTER_LINK_THRESHOLD=0.83
# Maximum cluster size for LLM review
STM_CLUSTER_MAX_SIZE=12

# Long-Term Memory (LTM) Integration
# Path to Obsidian vault for LTM storage and search
LTM_VAULT_PATH=~/Documents/Obsidian/Vault
# Path to LTM index file (default: vault/.stm-index.jsonl)
LTM_INDEX_PATH=~/Documents/Obsidian/Vault/.stm-index.jsonl
# Folder within vault for promoted memories
LTM_PROMOTED_FOLDER=stm-promoted

# Git Backup
# Enable automatic git commits
GIT_AUTO_COMMIT=true
# Auto-commit interval in seconds (3600 = 1 hour)
GIT_COMMIT_INTERVAL=3600

# Unified Search
# Weight for STM results in unified search
SEARCH_STM_WEIGHT=1.0
# Weight for LTM results in unified search
SEARCH_LTM_WEIGHT=0.7

# Logging
LOG_LEVEL=INFO
